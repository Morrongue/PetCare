{% extends 'base.html' %}
{% block content %}

<div class="max-w-2xl mx-auto px-4 sm:px-6 py-12">
  
  <!-- Success Icon -->
  <div class="text-center mb-8">
    <div class="w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-green-700 to-green-600 rounded-full 
                flex items-center justify-center shadow-2xl animate-pulse">
      <i class="fas fa-check text-white text-5xl"></i>
    </div>
    <h1 class="text-3xl font-bold text-white mb-2">Payment Successful!</h1>
    <p class="text-gray-400">Your appointment has been confirmed</p>
  </div>

  <!-- Payment Details -->
  {% if payment %}
  <div class="bg-dark-800 border border-green-700/50 rounded-xl p-6 shadow-xl mb-6">
    <h2 class="text-xl font-bold text-white mb-4 flex items-center">
      <i class="fas fa-receipt text-green-500 mr-2"></i>
      Payment Receipt
    </h2>
    
    <div class="space-y-3">
      <div class="flex justify-between py-2 border-b border-dark-700">
        <span class="text-gray-400">Transaction ID</span>
        <span class="text-white font-mono">{{ payment.x_transaction_id }}</span>
      </div>
      
      <div class="flex justify-between py-2 border-b border-dark-700">
        <span class="text-gray-400">Reference</span>
        <span class="text-white font-mono">{{ payment.ref_payco }}</span>
      </div>
      
      <div class="flex justify-between py-2 border-b border-dark-700">
        <span class="text-gray-400">Amount Paid</span>
        <span class="text-green-400 font-bold">${{ payment.amount|floatformat:0 }} COP</span>
      </div>
      
      {% if payment.x_franchise %}
      <div class="flex justify-between py-2 border-b border-dark-700">
        <span class="text-gray-400">Payment Method</span>
        <span class="text-white">{{ payment.x_franchise }}</span>
      </div>
      {% endif %}
      
      {% if payment.payment_date %}
      <div class="flex justify-between py-2">
        <span class="text-gray-400">Date</span>
        <span class="text-white">{{ payment.payment_date }}</span>
      </div>
      {% endif %}
    </div>
  </div>
  {% endif %}

  <!-- Appointment Details -->
  {% if cita %}
  <div class="bg-dark-800 border border-dark-700 rounded-xl p-6 shadow-xl mb-6">
    <h2 class="text-xl font-bold text-white mb-4 flex items-center">
      <i class="fas fa-calendar-check text-olive-500 mr-2"></i>
      Appointment Details
    </h2>
    
    <div class="space-y-3">
      <div class="flex items-start space-x-3">
        <i class="fas fa-paw text-olive-500 mt-1"></i>
        <div>
          <p class="text-gray-400 text-sm">Pet</p>
          <p class="text-white font-medium">{{ cita.mascota_nombre|default:"Your pet" }}</p>
        </div>
      </div>

      <div class="flex items-start space-x-3">
        <i class="fas fa-calendar text-olive-500 mt-1"></i>
        <div>
          <p class="text-gray-400 text-sm">Date & Time</p>
          <p class="text-white font-medium">{{ cita.fecha }}</p>
        </div>
      </div>

      <div class="flex items-start space-x-3">
        <i class="fas fa-notes-medical text-olive-500 mt-1"></i>
        <div>
          <p class="text-gray-400 text-sm">Reason</p>
          <p class="text-white font-medium">{{ cita.motivo }}</p>
        </div>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Important Information -->
  <div class="bg-blue-900/20 border border-blue-700/50 rounded-xl p-6 mb-6">
    <h3 class="text-white font-bold mb-3 flex items-center">
      <i class="fas fa-info-circle text-blue-400 mr-2"></i>
      Important Information
    </h3>
    <ul class="space-y-2 text-gray-300 text-sm">
      <li class="flex items-start">
        <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
        <span>A confirmation email has been sent to your email address</span>
      </li>
      <li class="flex items-start">
        <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
        <span>Please arrive 10 minutes before your appointment</span>
      </li>
      <li class="flex items-start">
        <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
        <span>Bring your pet's vaccination card if available</span>
      </li>
      <li class="flex items-start">
        <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
        <span>You can view your appointment in "My Appointments"</span>
      </li>
    </ul>
  </div>

  <!-- Actions -->
  <div class="flex flex-col sm:flex-row gap-3 justify-center">
    <a href="{% url 'list_citas' %}" 
       class="inline-flex items-center justify-center space-x-2 bg-gradient-to-r from-olive-700 to-olive-600 
              hover:from-olive-600 hover:to-olive-500 text-white font-bold px-8 py-3 rounded-lg
              transform hover:scale-105 transition-all shadow-lg">
      <i class="fas fa-list"></i>
      <span>View My Appointments</span>
    </a>
    
    <a href="{% url 'index' %}" 
       class="inline-flex items-center justify-center space-x-2 bg-dark-900 hover:bg-dark-700 
              text-gray-300 hover:text-white font-semibold px-8 py-3 rounded-lg
              border border-dark-600 hover:border-olive-600 transition-all">
      <i class="fas fa-home"></i>
      <span>Back to Home</span>
    </a>
  </div>

</div>

<style>
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}
</style>

{% endblock %}